# Banhammer Lite Configuration
# Облегчённая версия - опционально поддерживает БД, Telegram, WHOIS

# === Panel API ===
# URL панели (имя контейнера если в Docker)
PANEL_URL=http://remnawave:3000
PANEL_TOKEN=your_jwt_token_here
# Имя Docker сети панели (узнать: docker network ls)
PANEL_NETWORK=remnawave-network

# === TCP Server ===
TCP_HOST=0.0.0.0
TCP_PORT=9999

# === HTTP API (для UI клиента) ===
API_HOST=0.0.0.0
API_PORT=8080
# Токен для доступа к API (обязательно установить!)
API_TOKEN=your_secret_token_here

# === Detection Settings ===
# Окно одновременности (секунды) - если в этом окне IP > лимита, это сработка
# Короткое окно ловит реально одновременные подключения
CONCURRENT_WINDOW=2

# Период накопления сработок (секунды)
TRIGGER_PERIOD=30

# Сколько сработок за период = пидарас
TRIGGER_COUNT=5

# Время в "Пидарасах" для попадания в Бан-лист (секунды)
# 300 = 5 минут непрерывно в пидарасах
BANLIST_THRESHOLD_SECONDS=300

# Время жизни записи в Бан-листе в памяти (секунды)
BANLIST_TTL_SECONDS=3600

# Интервал перезагрузки данных из панели (секунды)
PANEL_RELOAD_INTERVAL=300

# Время хранения данных в памяти (секунды)
DATA_RETENTION_SECONDS=300

# Группировка IP по /24 подсети (true/false)
SUBNET_GROUPING=false

# === Whitelist ===
# Email пользователей которые не попадают в пидарасов (через запятую)
WHITELIST_EMAILS=admin@example.com,vip@example.com

# === Database (опционально) ===
# Если модуль database.py присутствует - используется для бан-листа
DB_PATH=banhammer.db

# === Telegram Notifications (опционально) ===
# Если модуль telegram.py присутствует - отправляет уведомления
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=
TELEGRAM_TOPIC_ID=

# === Agent Settings (для agent.py) ===
# Имя ноды (отображается в логах)
NODE_NAME=node1
# Адрес сервера Banhammer
BANHAMMER_HOST=localhost
# Порт сервера
BANHAMMER_PORT=9999
# Директория с логами (для Docker)
LOG_DIR=/var/log/remnanode
# Путь к логу xray (внутри контейнера)
LOG_FILE=/var/log/remnanode/access.log
# Задержка переподключения (секунды)
RECONNECT_DELAY=5

# === UI Client (для ui_client.py) ===
# URL сервера Banhammer для подключения UI
BANHAMMER_API_URL=http://localhost:8080
# Токен для доступа (тот же что API_TOKEN на сервере)
BANHAMMER_API_TOKEN=your_secret_token_here

# === Logging ===
LOG_LEVEL=INFO
